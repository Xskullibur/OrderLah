<h2 class="card-title text-center">Register</h2>
<section>
    <form id="registerForm" class="needs-validation" novalidate>
         <div class="form-group">
            <label for="username" class="col-form-label">Username</label>
            <input type="text" class="form-control" name="username" id="username" pattern="[a-zA-Z0-9]{1,50}" placeholder="Username" required>
            <div class="valid-feedback">Valid!</div>
            <div class="invalid-feedback">required, max 50 characters</div>
        </div>
        <div class="form-group">
            <label for="email" class="col-form-label">Email address</label>
            <input type="email" class="form-control" id="email" name="email" pattern="[a-zA-Z0-9.-_]{1,}@[a-zA-Z.-]{2,}[.]{1}[a-zA-Z]{2,}" placeholder="Enter email" required>
            <div class="valid-feedback">Valid!</div>
            <div class="invalid-feedback">email required</div>    
        </div>
        <div class="form-group form-row">
            <div class="col">
                <label for="fname" class="col-form-label">First Name</label>
                <input type="text" id="fname" name="fname" class="form-control" placeholder="First name" pattern="[a-zA-Z]{1,100}" maxlength="50" required>
                <div class="valid-feedback">Valid!</div>
                <div class="invalid-feedback">required, max 100 characters and no blanks</div>        
            </div>
            <div class="col ml-1">
                <label for="lname" class="col-form-label">Last Name</label>
                <input type="text" id="lname" name="lname" class="form-control" placeholder="First name" pattern="[a-zA-Z]{1,100}" maxlength="50" required>
                <div class="valid-feedback">Valid!</div>
                <div class="invalid-feedback">required, max 100 characters and no blanks</div>
            </div>
        </div>
        <div class="form-group">
            <label for="dob" class="col-form-label">Date of Birth</label>
            <input type="date" class="form-control" id="dob" name="dob" required>
            <div class="valid-feedback">Valid!</div>
            <div class="invalid-feedback">required</div>   
        </div>
        <div class="form-group">
            <label for="phone" class="col-form-label">Phone</label>
            <input type="number" class="form-control" name="phone" id="phone" pattern="[0-9]{8,10}" placeholder="Phone" required>
            <div class="valid-feedback">Valid!</div>
            <div class="invalid-feedback">required, 8-10 numbers</div>
        </div>
        <div class="form-group form-row">
            <div class="col-12 col-md">
                <label for="password" class="col-form-label">New Password</label>
                <input type="password" class="form-control" id="password" name="password" placeholder="Password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" required>
                <div class="valid-feedback">Valid!</div>
                <div class="invalid-feedback">required, Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters!</div>
            </div>
            <div class="col-12 col-md ml-1">
                <label for="confirm_password" class="col-form-label">Confirm Password</label>
                <input type="password" class="form-control" id="comfirm_password" placeholder="Confirm Password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" required>
                <div class="valid-feedback">Valid!</div>
                <div class="invalid-feedback">required, Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters!</div>
            </div>
        </div>
        <button type="button" id="regisBtn" class="btn btn-outline-success float-right mt-2" onclick="submitToken();">Next</button>
    </form>
</section>

<script>
    $(document).ready(function() {
            var forms = document.getElementsByClassName('needs-validation')          
            var createBtn = document.getElementById("regisBtn")
           
            var validation = Array.prototype.filter.call(forms, function (form) {
                createBtn.addEventListener('click', function (event) {
                    if (form.checkValidity() === false) {
                        event.preventDefault();
                        event.stopPropagation();
                    }else{
                        event.preventDefault();
                        event.stopPropagation();
                        stepToSlide(2);
                    }
                    form.classList.add('was-validated');
                }, false);
            });
    })
</script>

<script>
    var today = new Date();
    var dd = today.getDate();
    var mm = today.getMonth()+1; //January is 0!
    var yyyy = today.getFullYear();
    if(dd<10){
            dd='0'+dd
        } 
        if(mm<10){
            mm='0'+mm
        } 

    today = yyyy+'-'+mm+'-'+dd;
    document.getElementById("dob").setAttribute("max", today)
</script>